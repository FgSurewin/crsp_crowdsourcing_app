/*! For license information please see main.dda5e29a.chunk.js.LICENSE.txt */
(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{315:function(e,t,n){"use strict";n.r(t);var i,a,r,o,c,s,l,d,p,u,h,b,m,f,g,j,x=n(0),y=n.n(x),O=n(31),v=n.n(O),w=n(10),_=n(340),k=n(333),S=(n(215),{curve:n.p+"static/media/curve.78513b22.svg",slides:[{icon:n.p+"static/media/girl.b119a21d.png",name:"mary",content:"Awesome application!"},{icon:n.p+"static/media/man.6a157112.jpg",name:"John",content:"I cannot imagine I can help people with simple mouse clicking."}]}),C=n(4),I=function(e){return"".concat(e/16,"rem")},N="xSmall",P="small",E="medium",z={small:I(380),medium:I(640),large:I(1024),xLarge:I(1400)},M={xSmall:I(379),small:I(639),medium:I(1023),large:I(1399)},T=function(e,t){return Object(C.c)(a||(a=Object(w.a)(["\n\t@media screen and (max-width: ",") {\n\t\t","\n\t}\n"])),M[e],t)},L=T(E,"display: none"),F=(r="large",o="display: none",Object(C.c)(i||(i=Object(w.a)(["\n\t@media screen and (min-width: ",") {\n\t\t","\n\t}\n"])),z[r],o)),q=C.d.section.withConfig({displayName:"CarouselStyle__CarouselWrapper",componentId:"sc-1hxwmcm-0"})(["position:relative;"]),A=C.d.img.withConfig({displayName:"CarouselStyle__CarouselIllustration",componentId:"sc-1hxwmcm-1"})(["width:100vw;"]),V=C.d.div.withConfig({displayName:"CarouselStyle__SwiperSlide",componentId:"sc-1hxwmcm-2"})(["text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column;"]),R=C.d.div.withConfig({displayName:"CarouselStyle__SwiperCover",componentId:"sc-1hxwmcm-3"})(["transform:translateY(-10%);"]),B=C.d.div.withConfig({displayName:"CarouselStyle__SlideContainer",componentId:"sc-1hxwmcm-4"})(["position:relative;height:",";",""],I(500),T(P,Object(C.c)(c||(c=Object(w.a)(["\n\t\t\theight: ",";\n\t\t"])),I(600)))),U=C.d.img.withConfig({displayName:"CarouselStyle__SlideIcon",componentId:"sc-1hxwmcm-5"})(["position:absolute;width:",";height:",";border-radius:50%;left:50%;transform:translateX(-50%);"],I(100),I(100)),D=C.d.div.withConfig({displayName:"CarouselStyle__SlideCover",componentId:"sc-1hxwmcm-6"})(["margin-top:150px;width:635px;height:275px;background:#ffffff;box-shadow:0px 4px 10px 8px rgba(0,0,0,0.25);border-radius:20px;color:black;padding:30px 40px;"," "," ",""],T(E,Object(C.c)(s||(s=Object(w.a)(["\n\t\t\twidth: 500px;\n\t\t\theight: 300px;\n\t\t"])))),T(P,Object(C.c)(l||(l=Object(w.a)(["\n\t\t\twidth: 400px;\n\t\t\theight: 330px;\n\t\t\t/* margin: 0 auto; */\n\t\t"])))),T(N,Object(C.c)(d||(d=Object(w.a)(["\n\t\t\twidth: 300px;\n\t\t\t/* height: 30px; */\n\t\t\tpadding: 4px;\n\t\t"]))))),W=C.d.p.withConfig({displayName:"CarouselStyle__SlideName",componentId:"sc-1hxwmcm-7"})(["font-weight:500;font-size:",";text-align:center;text-transform:uppercase;"],I(24)),H=C.d.p.withConfig({displayName:"CarouselStyle__SlideContent",componentId:"sc-1hxwmcm-8"})(["font-weight:500;font-size:",";margin-top:",";"," ",""],I(18),I(30),T(P,Object(C.c)(p||(p=Object(w.a)(["\n\t\t\tmargin-top: ",";\n\t\t"])),I(20))),T(P,Object(C.c)(u||(u=Object(w.a)(["\n\t\t\tmargin-top: ",";\n\t\t"])),I(40)))),G=C.d.div.withConfig({displayName:"CarouselStyle__NavigationButton",componentId:"sc-1hxwmcm-9"})([""," ","  color:#ffffff;background:#d6974d;box-shadow:0px 4px 4px rgba(0,0,0,0.25);width:100px;height:100px;border-radius:50%;"," "," ",""],(function(e){return e.left&&"margin-left: 200px;"}),(function(e){return e.right&&"margin-right: 200px;"}),T(E,Object(C.c)(h||(h=Object(w.a)(["\n\t\t\t","\n\t\t\t","\n\t\t"])),(function(e){return e.left&&"margin-left: 20px;"}),(function(e){return e.right&&"margin-right: 20px;"}))),T(P,Object(C.c)(b||(b=Object(w.a)(["\n\t\t\t","\n\t\t\t","\n            width: 80px;\n\t\t\theight: 80px;\n\t\t"])),(function(e){return e.left&&"margin-left: 10px;"}),(function(e){return e.right&&"margin-right: 10px;"}))),T(N,Object(C.c)(m||(m=Object(w.a)(["\n\t\t\t","\n\t\t\t","\n            width: 0;\n\t\t\theight: 0;\n\t\t\tcolor: #d6974d;\n\t\t"])),(function(e){return e.left&&"margin-left: 4px;"}),(function(e){return e.right&&"margin-right: 4px;"})))),Y=C.d.div.withConfig({displayName:"CarouselStyle__SwiperContainer",componentId:"sc-1hxwmcm-10"})(["position:relative;height:500px;"]),K=C.d.div.withConfig({displayName:"CarouselStyle__SwiperWrapper",componentId:"sc-1hxwmcm-11"})([""]),Q=n(3);function Z(){return y.a.useEffect((function(){new _.a(".swiper-container",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}),[]),Object(Q.jsxs)(q,{children:[Object(Q.jsx)(A,{src:S.curve,alt:"curve"}),Object(Q.jsx)(R,{children:Object(Q.jsxs)(Y,{className:"swiper-container",children:[Object(Q.jsx)(K,{className:"swiper-wrapper",children:S.slides.map((function(e,t){return Object(Q.jsx)(V,{className:"swiper-slide",children:Object(Q.jsxs)(B,{children:[Object(Q.jsx)(U,{src:e.icon,alt:"icon"}),Object(Q.jsxs)(D,{children:[Object(Q.jsx)(W,{className:"test",children:e.name}),Object(Q.jsx)(H,{children:e.content})]})]})},t)}))}),Object(Q.jsx)(G,{right:!0,className:"swiper-button-next"}),Object(Q.jsx)(G,{left:!0,className:"swiper-button-prev"})]})})]})}_.a.use([k.a]);var X,J,$,ee,te,ne,ie,ae,re,oe,ce,se,le,de,pe,ue,he,be,me,fe,ge=Object(C.b)(f||(f=Object(w.a)(["\n *{\n\t margin: 0;\n\t padding: 0;\n\t box-sizing: border-box;\n\t font-family: 'Poppins', sans-serif;\n }\n ul{\n\t list-style:none;\n }\n a{\n\t text-decoration: none;\n }\n"]))),je=C.d.div(g||(g=Object(w.a)(["\n\tmax-width: 1256px;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-direction: ",";\n\t","\n"])),(function(e){return e.reverse?"row-reverse":"row"}),T(E,Object(C.c)(j||(j=Object(w.a)(["\n\t\t\tflex-direction: column;\n\t\t"]))))),xe=n.p+"static/media/location.74cf94a2.svg",ye=n.p+"static/media/question.9741b1f2.svg",Oe={title:"The Problem",content:'Despite comprehensive civil rights legislation for Americans with disabilities, many city streets, sidewalks, and businesses in the U.S. remain inaccessible. We even can\'t  answer simple questions like, "Can I get there from here?", because we miss the specific data. ',illustration:xe,dot:n.p+"static/media/dot.80e5d2fb.svg",questionMark:ye},ve=C.d.section.withConfig({displayName:"FirstSectionStyle__FirstSectionWrapper",componentId:"sc-sse822-0"})(["height:",";background-color:rgba(225,207,185,0.15);display:flex;justify-content:center;"," ",";",";"],I(810),T(E,Object(C.c)(X||(X=Object(w.a)(["\n\t\t\theight: ",";\n\t\t"])),I(980))),T(P,Object(C.c)(J||(J=Object(w.a)(["\n\t\t\tjustify-content: start;\n\t\t\tpadding-left: 30px;\n\t\t"])))),T(N,Object(C.c)($||($=Object(w.a)(["\n\t\t\tjustify-content: start;\n\t\t\tpadding-left: 0;\n\t\t\theight: ",";\n\t\t"])),I(850)))),we=C.d.img.withConfig({displayName:"FirstSectionStyle__FirstSectionIllustration",componentId:"sc-sse822-1"})(["margin-left:",";width:45%;transform:translateY(-10%);"," ",";",";"],I(110),T(E,Object(C.c)(ee||(ee=Object(w.a)(["\n\t\t\tmargin-left: ",";\n\t\t\twidth: ",";\n\t\t\ttransform: translateY(0);\n\t\t"])),I(0),I(500))),T(P,Object(C.c)(te||(te=Object(w.a)(["\n\t\t\twidth: ",";\n\t\t\tmargin-left: ",";\n\t\t"])),I(400),I(0))),T(N,Object(C.c)(ne||(ne=Object(w.a)(["\n\t\t\twidth: ",";\n\t\t\ttransform: translateX(4%);\n\t\t"])),I(340)))),_e=C.d.div.withConfig({displayName:"FirstSectionStyle__FirstSectionBox",componentId:"sc-sse822-2"})(["position:relative;padding-right:",";transform:translateY(-30%);"," "," ",""],I(180),T(E,Object(C.c)(ie||(ie=Object(w.a)(["\n\t\t\tmargin-top: ",";\n\t\t\tpadding-right: ",";\n\t\t\tpadding-bottom: ",";\n\t\t\ttransform: translateY(0);\n\t\t"])),I(50),I(0),I(80))),T(P,Object(C.c)(ae||(ae=Object(w.a)(["\n\t\t\tpadding-bottom: ",";\n\t\t"])),I(200))),T(N,Object(C.c)(re||(re=Object(w.a)(["\n\t\t\tpadding-bottom: ",";\n\t\t"])),I(100)))),ke=C.d.div.withConfig({displayName:"FirstSectionStyle__FirstSectionContent",componentId:"sc-sse822-3"})(["background-color:#ffffff;box-shadow:0px 0px 13px 8px rgba(0,0,0,0.25);border-radius:20px;position:absolute;top:",";left:",";padding:",";z-index:0;"," "," ",""],I(100),I(100),I(25),T(E,Object(C.c)(oe||(oe=Object(w.a)(["\n\t\t\twidth: 120%;\n\t\t\ttop: 90px;\n\t\t\tleft: 90px;\n\t\t"])))),T(P,Object(C.c)(ce||(ce=Object(w.a)(["\n\t\t\twidth: 90%;\n\t\t\ttop: 60px;\n\t\t\tleft: 60px;\n\t\t"])))),T(N,Object(C.c)(se||(se=Object(w.a)(["\n\t\t\tposition: inherit;\n\t\t\ttop: 0;\n\t\t\tleft: 12px;\n\t\t\twidth: 100%;\n\t\t\tmargin: 0 auto;\n\t\t"]))))),Se=C.d.h2.withConfig({displayName:"FirstSectionStyle__FirstSectionTitle",componentId:"sc-sse822-4"})(["font-size:",";font-weight:bold;color:",";margin-bottom:",";"," ",""],I(36),(function(e){return e.theme.primaryFont}),I(10),T(E,Object(C.c)(le||(le=Object(w.a)(["\n\t\t\tfont-size: ",";\n\t\t"])),I(28))),T(N,Object(C.c)(de||(de=Object(w.a)(["\n\t\t\ttext-align: center;\n\t\t"]))))),Ce=C.d.p.withConfig({displayName:"FirstSectionStyle__FirstSectionText",componentId:"sc-sse822-5"})(["font-weight:500;font-size:",";line-height:",";color:",";"," ",""],I(18),I(40),(function(e){return e.theme.primaryFont}),T(E,Object(C.c)(pe||(pe=Object(w.a)(["\n\t\t\tfont-size: ",";\n\t\t\twidth: 100%;\n\t\t\t/* width: ","; */\n\t\t"])),I(14),I(380))),T(N,Object(C.c)(ue||(ue=Object(w.a)(["\n\t\t\twidth: ",";\n\t\t\tfont-size: ",";\n\t\t"])),I(300),I(14)))),Ie=C.d.img.withConfig({displayName:"FirstSectionStyle__DotBackground",componentId:"sc-sse822-6"})(["z-index:10;width:100%;"," ",""],T(P,Object(C.c)(he||(he=Object(w.a)(["\n\t\t\t/* width: ","; */\n\t\t\twidth: 80%;\n\t\t"])),I(510))),T(N,Object(C.c)(be||(be=Object(w.a)(["\n\t\t\tdisplay: none;\n\t\t"]))))),Ne=C.d.img.withConfig({displayName:"FirstSectionStyle__QuestionMark",componentId:"sc-sse822-7"})(["position:absolute;top:-14%;right:0;"," ",""],T(P,Object(C.c)(me||(me=Object(w.a)(["\n\t\t\twidth: 35%;\n\t\t"])))),T(N,Object(C.c)(fe||(fe=Object(w.a)(["\n\t\t\tdisplay: none;\n\t\t"])))));function Pe(){return Object(Q.jsx)(ve,{children:Object(Q.jsxs)(je,{children:[Object(Q.jsxs)(_e,{children:[Object(Q.jsxs)(ke,{children:[Object(Q.jsx)(Se,{children:Oe.title}),Object(Q.jsx)(Ce,{children:Oe.content}),Object(Q.jsx)(Ne,{src:Oe.questionMark,alt:"QuestionMark"})]}),Object(Q.jsx)(Ie,{src:Oe.dot,alt:"dot"})]}),Object(Q.jsx)(we,{src:Oe.illustration,alt:"illustration"})]})})}var Ee,ze,Me=n.p+"static/media/Email.764fd95d.svg",Te=n.p+"static/media/GitHub.01dee938.svg",Le=n.p+"static/media/Facebook.8b7c2992.svg",Fe={project:"project",projectList:["About Us","Term of Use","Labeling Guide"],connect:"connect",connectList:[{icon:Te,content:"GitHub"},{icon:n.p+"static/media/Twitter.a5eed533.svg",content:"Twitter"},{icon:Me,content:"Email"},{icon:Le,content:"Facebook"}],copyRight:"\xa9 2021 Doorfront. All Rights Reserved."},qe=C.d.footer.withConfig({displayName:"FooterStyle__FooterWrapper",componentId:"sc-16tfjrx-0"})(["height:",";background:#484646;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff;"],I(377)),Ae=C.d.div.withConfig({displayName:"FooterStyle__FooterContainer",componentId:"sc-16tfjrx-1"})(["display:flex;justify-content:space-between;align-items:flex-start;width:",";height:",";",""],I(485),I(220),T(P,Object(C.c)(Ee||(Ee=Object(w.a)(["\n      width: ",";\n    "])),I(285)))),Ve=C.d.p.withConfig({displayName:"FooterStyle__ListTitle",componentId:"sc-16tfjrx-2"})(["font-weight:bolder;font-size:",";text-transform:uppercase;"],I(16)),Re=C.d.ul.withConfig({displayName:"FooterStyle__ProjectList",componentId:"sc-16tfjrx-3"})([""]),Be=C.d.li.withConfig({displayName:"FooterStyle__ProjectItem",componentId:"sc-16tfjrx-4"})(["margin-top:",";box-sizing:border-box;"],I(6)),Ue=C.d.ul.withConfig({displayName:"FooterStyle__ConnectList",componentId:"sc-16tfjrx-5"})([""]),De=C.d.li.withConfig({displayName:"FooterStyle__ConnectItem",componentId:"sc-16tfjrx-6"})(["height:",";width:100%;padding:"," 0;display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;"],I(35),I(5)),We=C.d.img.withConfig({displayName:"FooterStyle__ConnectIcon",componentId:"sc-16tfjrx-7"})([""]),He=C.d.p.withConfig({displayName:"FooterStyle__ConnectText",componentId:"sc-16tfjrx-8"})(["margin-left:",";margin-bottom:0;"],I(4)),Ge=C.d.div.withConfig({displayName:"FooterStyle__Divider",componentId:"sc-16tfjrx-9"})(["width:",";border:2px solid #ffffff;",""],I(955),T(E,Object(C.c)(ze||(ze=Object(w.a)(["\n      width: 100%;\n    "]))))),Ye=C.d.p.withConfig({displayName:"FooterStyle__CopyRight",componentId:"sc-16tfjrx-10"})(["font-weight:bold;font-size:",";margin-top:",";"],I(12),I(20)),Ke=C.d.a.withConfig({displayName:"FooterStyle__ProjectLink",componentId:"sc-16tfjrx-11"})(["font-weight:500;font-size:",";color:#fff;&:hover{border-bottom:1px solid #fff;}"],I(14)),Qe=C.d.a.withConfig({displayName:"FooterStyle__ConnectLink",componentId:"sc-16tfjrx-12"})(["display:flex;color:#fff;&:hover{border-bottom:1px solid #fff;}"]);function Ze(){return Object(Q.jsxs)(qe,{children:[Object(Q.jsxs)(Ae,{children:[Object(Q.jsxs)(Re,{children:[Object(Q.jsx)(Ve,{children:Fe.project}),Fe.projectList.map((function(e,t){return Object(Q.jsx)(Be,{children:Object(Q.jsx)(Ke,{href:"/",children:e})},t)}))]}),Object(Q.jsxs)(Ue,{children:[Object(Q.jsx)(Ve,{children:Fe.connect}),Fe.connectList.map((function(e,t){return Object(Q.jsx)(De,{children:Object(Q.jsxs)(Qe,{href:"/",children:[Object(Q.jsx)(We,{src:e.icon,alt:"icon".concat(t)}),Object(Q.jsx)(He,{children:e.content})]})},t)}))]})]}),Object(Q.jsx)(Ge,{}),Object(Q.jsx)(Ye,{children:Fe.copyRight})]})}var Xe,Je,$e,et,tt,nt=n(35),it=n(49),at=Object(C.c)(Xe||(Xe=Object(w.a)(["\n  border: 1px solid\n    ",";\n  filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));\n  border-radius: 30px;\n  padding: 6px 14px;\n  &:hover {\n    border: 1px solid #d6974d;\n  }\n"])),(function(e){return"white"===e.primary?e.theme.primaryFont:"white"})),rt=Object(C.c)(Je||(Je=Object(w.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  /* max-width: 1256px; */\n"]))),ot=C.d.nav.withConfig({displayName:"NavbarStyle__NavbarWrapper",componentId:"sc-xlqd5j-0"})(["z-index:110;background-color:transparent;position:relative;"," "," ",""],(function(e){return e.isStatic&&"min-width: 1256px;"}),(function(e){return"white"===e.primary&&Object(C.c)($e||($e=Object(w.a)(["\n      background: rgba(255, 255, 255, 0.9);\n      box-shadow: 0px 4px 10px 6px rgba(0, 0, 0, 0.25);\n      color: ",";\n    "])),e.theme.primaryFont)}),(function(e){return e.isFixed&&rt})),ct=C.d.div.withConfig({displayName:"NavbarStyle__NavbarContainer",componentId:"sc-xlqd5j-1"})([""," margin:auto;display:flex;justify-content:space-between;align-items:center;height:",";padding:0 30px;z-index:110;"],(function(e){return e.isStatic?"width: 1256px;":"max-width: 1256px;"}),I(60)),st=C.d.div.withConfig({displayName:"NavbarStyle__NavbarLogo",componentId:"sc-xlqd5j-2"})(["z-index:110;"]),lt=C.d.img.withConfig({displayName:"NavbarStyle__Logo",componentId:"sc-xlqd5j-3"})([""]),dt=C.d.div.withConfig({displayName:"NavbarStyle__NavbarHamburger",componentId:"sc-xlqd5j-4"})(["color:",";display:flex;justify-content:center;align-items:center;cursor:pointer;z-index:110;",""],(function(e){return"white"===e.primary?e.theme.primaryFont:"white"}),F),pt=C.d.ul.withConfig({displayName:"NavbarStyle__NavbarList",componentId:"sc-xlqd5j-5"})(["list-style:none;display:flex;justify-content:space-between;align-items:center;margin-top:",";",""],I(16),(function(e){return!e.isStatic&&L})),ut=C.d.li.withConfig({displayName:"NavbarStyle__NavbarItem",componentId:"sc-xlqd5j-6"})(["margin:0 ",";"],I(38)),ht=Object(C.d)(it.b).withConfig({displayName:"NavbarStyle__NavbarLink",componentId:"sc-xlqd5j-7"})(["text-decoration:none;color:",";font-size:",";"," &:hover{color:#d6974d;}"],(function(e){return"white"===e.primary?e.theme.primaryFont:"white"}),I(18),(function(e){return e.size&&at})),bt=Object(C.c)(et||(et=Object(w.a)(["\n  background: #000000; /* fallback for old browsers */\n  background: -webkit-linear-gradient(\n    to left,\n    #434343,\n    #000000\n  ); /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(\n    to left,\n    #434343,\n    #000000\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n"]))),mt=Object(C.c)(tt||(tt=Object(w.a)(["\n  background: #ece9e6; /* fallback for old browsers */\n  background: -webkit-linear-gradient(\n    to left,\n    #ffffff,\n    #ece9e6\n  ); /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(\n    to left,\n    #ffffff,\n    #ece9e6\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n"]))),ft=C.d.ul.withConfig({displayName:"NavbarStyle__MobileMenu",componentId:"sc-xlqd5j-8"})(["position:fixed;left:0;top:0;padding-top:",";width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:",';transition:all 4s;&::after{content:"";display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;'," z-index:100;}"],I(90),(function(e){return"white"===e.primary?"white":"black"}),(function(e){return"white"===e.primary?mt:bt})),gt=C.d.li.withConfig({displayName:"NavbarStyle__MobileItem",componentId:"sc-xlqd5j-9"})(["padding:20px 0px;font-size:",";text-align:center;cursor:pointer;width:100%;z-index:110;&:hover{background-color:#d6974d;font-weight:bolder;}"],I(34)),jt=Object(C.d)(it.b).withConfig({displayName:"NavbarStyle__MobileLink",componentId:"sc-xlqd5j-10"})(["text-decoration:none;color:",";font-size:",";&:hover{color:",";}"],(function(e){return"white"===e.primary?e.theme.primaryFont:"white"}),I(28),(function(e){return"white"===e.primary?e.theme.primaryFont:"white"})),xt=n(163),yt=n(29),Ot="id",vt="token",wt="nickname",_t=function(e,t){localStorage.setItem(e,t)},kt=function(e){return localStorage.getItem(e)},St=function(e){localStorage.removeItem(e)},Ct=function(){St(Ot),St(vt),St(wt)},It=n.p+"static/media/BigLogo.c62763f7.svg",Nt=n.p+"static/media/blackLogo.7deb7805.svg",Pt=n(351),Et=n(89),zt=n(206),Mt=n(349),Tt="HANDLE_MAP",Lt="HANDLE_COMPLETED",Ft="HANDLE_EMPTY",qt="LOGIN";function At(e){var t=e.nickname,n=Object(yt.b)(),i=Object(Q.jsx)("div",{children:Object(Q.jsx)(Et.a,{type:"primary",danger:!0,onClick:function(){n({type:qt,payload:{id:"",token:"",nickname:""}}),Ct()},children:"Log Out"})});return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(zt.a,{content:i,trigger:"hover",children:Object(Q.jsx)(Mt.a,{style:{backgroundColor:"#D6974D",verticalAlign:"middle",fontWeight:"bolder",fontSize:"18px"},size:"large",gap:5,children:t?t[0].toUpperCase():"Bad"})})})}function Vt(e){var t=e.primary,n=void 0===t?"black":t,i=e.isStatic,a=void 0!==i&&i,r=e.isFixed,o=void 0!==r&&r,c=y.a.useState(!1),s=Object(nt.a)(c,2),l=s[0],d=s[1],p="white"===n?Nt:It,u=Object(yt.c)((function(e){return e.user})).nickname,h=kt(wt),b=u||h;return Object(Q.jsxs)(ot,{primary:n,isStatic:a,isFixed:o,children:[Object(Q.jsxs)(ct,{isStatic:a,children:[Object(Q.jsx)(st,{children:Object(Q.jsx)(ht,{to:"/home",children:Object(Q.jsx)(lt,{src:p,alt:"BigLogo"})})}),!a&&Object(Q.jsx)(dt,{primary:n,onClick:function(){return d(!l)},children:l?Object(Q.jsx)(xt.b,{style:{fontSize:I(36)}}):Object(Q.jsx)(xt.a,{style:{fontSize:I(36)}})}),Object(Q.jsxs)(pt,{isStatic:a,children:[Object(Q.jsx)(ut,{children:Object(Q.jsx)(ht,{primary:n,to:"/streetView",children:"Start Exploring"})}),Object(Q.jsx)(ut,{children:b?Object(Q.jsx)(At,{nickname:h}):Object(Q.jsx)(ht,{size:"circle",primary:n,to:"/login",children:"Sign In"})})]})]}),Object(Q.jsx)(Pt.a,{in:l,children:Object(Q.jsxs)(ft,{primary:n,children:[Object(Q.jsx)(gt,{children:Object(Q.jsx)(jt,{primary:n,to:"/streetView",children:"Start Exploring"})}),Object(Q.jsx)(gt,{children:b?Object(Q.jsx)(At,{nickname:h}):Object(Q.jsx)(jt,{primary:n,to:"/login",children:"Sign In"})})]})})]})}var Rt,Bt,Ut,Dt,Wt,Ht=n(341),Gt=C.d.header.withConfig({displayName:"HeaderStyle__HeaderWrapper",componentId:"sc-1f2kqrj-0"})(["height:100vh;position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;"]),Yt=C.d.video.withConfig({displayName:"HeaderStyle__HeaderVideo",componentId:"sc-1f2kqrj-1"})(["width:100%;height:100%;object-fit:cover;position:absolute;z-index:0;"]),Kt=C.d.div.withConfig({displayName:"HeaderStyle__Shade",componentId:"sc-1f2kqrj-2"})(["position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:1;background:rgba(196,196,196,0.29);"]),Qt=C.d.div.withConfig({displayName:"HeaderStyle__HeaderContent",componentId:"sc-1f2kqrj-3"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;transform:translateY(-20%);z-index:12;",""],T(P,Object(C.c)(Rt||(Rt=Object(w.a)(["\n      transform: translateY(0%);\n    "]))))),Zt=C.d.div.withConfig({displayName:"HeaderStyle__HeaderTitleBox",componentId:"sc-1f2kqrj-4"})(["text-align:center;text-transform:uppercase;margin-bottom:",";"],I(14)),Xt=C.d.h2.withConfig({displayName:"HeaderStyle__HeaderTitle",componentId:"sc-1f2kqrj-5"})(["color:white;font-weight:bold;font-size:",";",""],I(48),T(P,Object(C.c)(Bt||(Bt=Object(w.a)(["\n      font-size: ",";\n    "])),I(34)))),Jt=C.d.div.withConfig({displayName:"HeaderStyle__HeaderSubtitleBox",componentId:"sc-1f2kqrj-6"})(["margin-bottom:",";"],I(36)),$t=C.d.p.withConfig({displayName:"HeaderStyle__HeaderSubtitle",componentId:"sc-1f2kqrj-7"})(["color:white;font-weight:bold;font-size:",";padding:"," 0;text-align:center;",""],I(18),I(4),T(P,Object(C.c)(Ut||(Ut=Object(w.a)(["\n      font-size: ",";\n    "])),I(14)))),en=C.d.img.withConfig({displayName:"HeaderStyle__HeaderIcon",componentId:"sc-1f2kqrj-8"})(["z-index:12;display:block;position:absolute;bottom:",";left:50%;transform:translateX(-50%);",""],I(30),T(P,Object(C.c)(Dt||(Dt=Object(w.a)(["\n      width: 5%;\n    "]))))),tn=Object(C.d)(Ht.a).withConfig({displayName:"HeaderStyle__HeaderButton",componentId:"sc-1f2kqrj-9"})(["background-color:"," !important;color:white !important;padding:"," "," !important;font-weight:500 !important;font-size:"," !important;",""],(function(e){return e.theme.primaryColor}),I(7),I(36),I(24),T(P,Object(C.c)(Wt||(Wt=Object(w.a)(["\n      font-size: "," !important;\n      padding: "," "," !important;\n    "])),I(20),I(3),I(24)))),nn=n.p+"static/media/background.608cdf8f.mp4",an={title:{one:"Help us to",two:"Explore the city"},subtitle:{one:"Virtually explore city streets to find and",two:"label storefront accessibility target"},button:"explore",icon:n.p+"static/media/scrollDown.b740b291.svg"};function rn(){var e=function(){var e=y.a.useState("black"),t=Object(nt.a)(e,2),n=t[0],i=t[1];return y.a.useEffect((function(){return window.onscroll=function(){document.documentElement.scrollTop>80?i("white"):i("black")},function(){i(null)}}),[i]),n}();return Object(Q.jsxs)(Gt,{children:[Object(Q.jsx)(Vt,{primary:e,isFixed:!0}),Object(Q.jsx)(Yt,{muted:!0,loop:!0,autoPlay:!0,src:nn}),Object(Q.jsx)(Kt,{}),Object(Q.jsxs)(Qt,{children:[Object(Q.jsxs)(Zt,{children:[Object(Q.jsx)(Xt,{children:an.title.one}),Object(Q.jsx)(Xt,{children:an.title.two})]}),Object(Q.jsxs)(Jt,{children:[Object(Q.jsx)($t,{children:an.subtitle.one}),Object(Q.jsx)($t,{children:an.subtitle.two})]}),Object(Q.jsx)(tn,{children:Object(Q.jsx)(it.b,{to:"/streetView",style:{color:"white"},children:an.button})})]}),Object(Q.jsx)(en,{src:an.icon,alt:"scrollDown"})]})}var on,cn,sn,ln,dn,pn,un,hn,bn,mn,fn,gn,jn,xn,yn,On={title:"What we do with your labels",content:"The way we do that is we virtually drop you into the scene in Google Streetview. Users label door area and identity different types of doors, as well as stairs and ramps. It aims for collecting more information to improve accessibility. \n    ",whole:n.p+"static/media/whole.6e3e4c4d.svg",comma:n.p+"static/media/comma.48fe24c0.svg"},vn=C.d.section.withConfig({displayName:"SecondSectionStyle__SecondSectionWrapper",componentId:"sc-2i6bvi-0"})(["height:",";background-color:rgba(225,207,185,0.15);display:flex;justify-content:center;"," ",";",";"],I(644),T(E,Object(C.c)(on||(on=Object(w.a)(["\n\t\t\theight: ",";\n\t\t\tpadding-top: ",";\n\t\t\tpadding-bottom: ",";\n\t\t"])),I(760),I(50),I(40))),T(P,Object(C.c)(cn||(cn=Object(w.a)(["\n\t\t\theight: ",";\n\t\t\tjustify-content: start;\n\t\t\tpadding-left: 30px;\n\t\t\tpadding-right: 30px;\n\t\t"])),I(800))),T(N,Object(C.c)(sn||(sn=Object(w.a)(["\n\t\t\tjustify-content: start;\n\t\t\tpadding-left: 0;\n\t\t\tpadding-right: 0;\n\t\t"]))))),wn=C.d.img.withConfig({displayName:"SecondSectionStyle__SecondSectionIllustration",componentId:"sc-2i6bvi-1"})(["width:45%;transform:translateY(-10%);"," ",";",";"],T(E,Object(C.c)(ln||(ln=Object(w.a)(["\n\t\t\tmargin-left: ",";\n\t\t\twidth: ",";\n\t\t\ttransform: translateY(0);\n\t\t"])),I(0),I(500))),T(P,Object(C.c)(dn||(dn=Object(w.a)(["\n\t\t\twidth: ",";\n\t\t\tmargin-left: ",";\n\t\t"])),I(400),I(0))),T(N,Object(C.c)(pn||(pn=Object(w.a)(["\n\t\t\twidth: ",";\n\t\t\ttransform: translateX(4%);\n\t\t"])),I(340)))),_n=C.d.div.withConfig({displayName:"SecondSectionStyle__SecondSectionBox",componentId:"sc-2i6bvi-2"})(["position:relative;padding-left:",";"," "," "],I(120),T(E,Object(C.c)(un||(un=Object(w.a)(["\n\t\t\tpadding-left: 0;\n\t\t\tmargin: auto;\n\t\t\twidth: 80%;\n\t\t"])))),T(P,Object(C.c)(hn||(hn=Object(w.a)(["\n\t\t\tpadding-bottom: ",";\n\t\t"])),I(60)))),kn=C.d.div.withConfig({displayName:"SecondSectionStyle__SecondSectionContent",componentId:"sc-2i6bvi-3"})([""]),Sn=C.d.h2.withConfig({displayName:"SecondSectionStyle__SecondSectionTitle",componentId:"sc-2i6bvi-4"})(["font-size:",";font-weight:bold;color:",";margin-bottom:",";"," ",""],I(36),(function(e){return e.theme.primaryFont}),I(10),T(E,Object(C.c)(bn||(bn=Object(w.a)(["\n\t\t\tfont-size: ",";\n\t\t"])),I(28))),T(N,Object(C.c)(mn||(mn=Object(w.a)(["\n\t\t\ttext-align: center;\n\t\t"]))))),Cn=C.d.p.withConfig({displayName:"SecondSectionStyle__SecondSectionText",componentId:"sc-2i6bvi-5"})(["width:85%;font-weight:500;font-size:",";line-height:",";color:",";"," ",""],I(18),I(40),(function(e){return e.theme.primaryFont}),T(E,Object(C.c)(fn||(fn=Object(w.a)(["\n\t\t\tfont-size: ",";\n\t\t\twidth: 100%;\n\t\t\t/* width: ","; */\n\t\t"])),I(14),I(380))),T(N,Object(C.c)(gn||(gn=Object(w.a)(["\n\t\t\twidth: ",";\n\t\t\tfont-size: ",";\n\t\t"])),I(300),I(14)))),In=C.d.img.withConfig({displayName:"SecondSectionStyle__CommaMark",componentId:"sc-2i6bvi-6"})(["position:absolute;top:-55%;right:10%;width:",";"," "," ",""],I(140),T(E,Object(C.c)(jn||(jn=Object(w.a)(["\n\t\t\twidth: ",";\n\t\t\ttop: -35%;\n\t\t\tright: 10%;\n\t\t"])),I(100))),T(P,Object(C.c)(xn||(xn=Object(w.a)(["\n\t\t\tdisplay: none;\n\t\t"])))),T(N,Object(C.c)(yn||(yn=Object(w.a)(["\n\t\t\tdisplay: none;\n\t\t"])))));function Nn(){return Object(Q.jsx)(vn,{children:Object(Q.jsxs)(je,{reverse:!0,children:[Object(Q.jsxs)(_n,{children:[Object(Q.jsxs)(kn,{children:[Object(Q.jsx)(Sn,{children:On.title}),Object(Q.jsx)(Cn,{children:On.content})]}),Object(Q.jsx)(In,{src:On.comma,alt:"comma"})]}),Object(Q.jsx)(wn,{src:On.whole,alt:"whole"})]})})}function Pn(){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(rn,{}),Object(Q.jsx)(Pe,{}),Object(Q.jsx)(Nn,{}),Object(Q.jsx)(Z,{}),Object(Q.jsx)(Ze,{})]})}var En=n(25),zn=n(205),Mn=n(41),Tn=["component","path"];function Ln(e){var t=e.component,n=e.path,i=Object(zn.a)(e,Tn),a=Object(Mn.h)(),r=Object(yt.c)((function(e){return e.user})).token,o=kt(vt);return r||o?Object(Q.jsx)(Mn.b,{path:n,render:function(){return Object(Q.jsx)(t,Object(En.a)({},i))}}):Object(Q.jsx)(Mn.a,{from:a.pathname,to:"/login"})}var Fn=n(20),qn=n.n(Fn),An=n(36),Vn=n(343),Rn=n(342),Bn=n(202),Un=n(344),Dn=n(335),Wn=n(336),Hn=C.d.div.withConfig({displayName:"SignUpStyle__SignUpWrapper",componentId:"sc-ou6iff-0"})(["background-color:#fbf8f5;height:100vh;"]),Gn=Object(C.d)(Dn.a).withConfig({displayName:"SignUpStyle__SignUpContainer",componentId:"sc-ou6iff-1"})(["margin-top:60px;background-color:#fbf8f5;"]),Yn=Object(C.d)(Wn.a).withConfig({displayName:"SignUpStyle__FormWrapper",componentId:"sc-ou6iff-2"})([""]),Kn=C.d.p.withConfig({displayName:"SignUpStyle__SignUpText",componentId:"sc-ou6iff-3"})(["text-align:center;"]),Qn=C.d.p.withConfig({displayName:"SignUpStyle__TipText",componentId:"sc-ou6iff-4"})(["text-align:center;font-size:70%;color:gray;margin-bottom:0;"]),Zn=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;function Xn(e){return!!Zn.test(e)}var Jn=n(118),$n=n.n(Jn),ei=$n.a.create({baseURL:"/api"});ei.interceptors.request.use((function(e){var t=kt(vt);return e.headers={authorization:"bearer "+t},e}),(function(e){return Promise.reject(e)})),ei.interceptors.response.use((function(e){return 2e3===e.data.code&&Bn.b.error(e.data.message),4e3===e.data.code?(Bn.b.error(e.data.message),Promise.reject(e)):Promise.resolve(e)}),(function(e){return Promise.reject(e)}));var ti=function(e){return ei.request({method:"POST",url:"/user/addCreateCredit",data:e})},ni=function(e){return ei.request({method:"POST",url:"/user/addReviewCredit",data:e})},ii=function(e){return ei.request({method:"POST",url:"/user/addValidateCredit",data:e})},ai=function(e){return ei.request({method:"POST",url:"/user/addNumberByType",data:e})},ri=Vn.a.Option;function oi(){var e=Rn.a.useForm(),t=Object(nt.a)(e,1)[0],n=Object(Mn.g)(),i=function(){var e=Object(An.a)(qn.a.mark((function e(i){var a;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=i,ei.request({method:"POST",url:"/user/addUser",data:r});case 2:0===(a=e.sent).data.code?(Bn.b.success(a.data.message),n.push("/login")):t.resetFields();case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsxs)(Hn,{children:[Object(Q.jsx)(Vt,{primary:"white"}),Object(Q.jsx)(Gn,{justify:"center",align:"middle",children:Object(Q.jsxs)(Yn,{span:20,children:[Object(Q.jsxs)(Kn,{children:[Object(Q.jsx)("strong",{children:"Already have an account? "}),Object(Q.jsx)(it.b,{to:"/login",children:"Login"})]}),Object(Q.jsxs)(Rn.a,{name:"basic",form:t,labelCol:{span:8},wrapperCol:{span:8},onFinish:i,children:[Object(Q.jsx)(Rn.a.Item,{label:"Nickname",name:"nickname",rules:[{required:!0,message:"Please input your nickname!"}],children:Object(Q.jsx)(Un.a,{})}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(Qn,{children:"We encourage you to use your university email"}),Object(Q.jsx)(Rn.a.Item,{label:"Email",name:"email",rules:[{validator:function(e,t){return""===t||Xn(t)?Promise.resolve():Promise.reject(new Error("Please input a valid email!"))}},{required:!0,message:"Please input your email!"}],children:Object(Q.jsx)(Un.a,{})})]}),Object(Q.jsx)(Rn.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(Q.jsx)(Un.a.Password,{})}),Object(Q.jsx)(Rn.a.Item,{label:"Confirm Password",name:"confirm password",rules:[{validator:function(e,n){return n&&t.getFieldValue("password")!==n?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}},{required:!0,message:"Please input your confirm password!"}],children:Object(Q.jsx)(Un.a.Password,{})}),Object(Q.jsx)(Rn.a.Item,{name:"role",label:"role",rules:[{required:!0,message:"Please select role!"}],children:Object(Q.jsxs)(Vn.a,{placeholder:"select your role",children:[Object(Q.jsx)(ri,{value:"student",children:"Student"}),Object(Q.jsx)(ri,{value:"faculty",children:"Faculty"}),Object(Q.jsx)(ri,{value:"volunteer",children:"Volunteer"})]})}),Object(Q.jsx)(Rn.a.Item,{label:"Institution",name:"institution",rules:[{required:!0,message:"Please input your institution!"}],children:Object(Q.jsx)(Un.a,{})}),Object(Q.jsx)(Rn.a.Item,{wrapperCol:{offset:8,span:16},children:Object(Q.jsx)(Et.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})})]})}var ci=n.p+"static/media/login-2.d1e20fde.jpg",si=C.d.div.withConfig({displayName:"LoginStyle__LoginWrapper",componentId:"sc-1ey9v78-0"})(["background-color:#fbf8f5;height:100vh;overflow:hidden;"]),li=Object(C.d)(Dn.a).withConfig({displayName:"LoginStyle__LoginContainer",componentId:"sc-1ey9v78-1"})([""]),di=Object(C.d)(Wn.a).withConfig({displayName:"LoginStyle__FormWrapper",componentId:"sc-1ey9v78-2"})(["align-self:flex-start;"]),pi=C.d.p.withConfig({displayName:"LoginStyle__LoginText",componentId:"sc-1ey9v78-3"})(["text-align:center;"]),ui=Object(C.d)(Wn.a).withConfig({displayName:"LoginStyle__ImageContainer",componentId:"sc-1ey9v78-4"})([""]),hi=C.d.img.withConfig({displayName:"LoginStyle__LoginImage",componentId:"sc-1ey9v78-5"})(["height:70%;"]);C.d.div.withConfig({displayName:"LoginStyle__BlankSpace",componentId:"sc-1ey9v78-6"})(["margin-top:30px;"]);function bi(){var e=Rn.a.useForm(),t=Object(nt.a)(e,1)[0],n=Object(Mn.g)(),i=Object(yt.b)(),a=function(){var e=Object(An.a)(qn.a.mark((function e(t){var a,r,o,c,s;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(l=t,ei.request({method:"POST",url:"/user/login",data:l})).catch((function(){n.push("/home")}));case 2:0===(a=e.sent).data.code&&(r=a.data.data,o=r.id,c=r.nickname,s=r.token,i({type:qt,payload:{id:o,nickname:c,token:s}}),_t(Ot,o),_t(vt,s),_t(wt,c),Bn.b.success(a.data.message),n.push("/home"));case 4:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsxs)(si,{children:[Object(Q.jsx)(Vt,{primary:"white"}),Object(Q.jsxs)(li,{justify:"center",align:"middle",children:[Object(Q.jsx)(di,{span:20,lg:6,children:Object(Q.jsx)(Dn.a,{align:"middle",justify:"center",style:{height:"600px"},children:Object(Q.jsxs)(Wn.a,{span:20,children:[Object(Q.jsxs)(pi,{children:[Object(Q.jsx)("strong",{children:"Don't have an account? "}),Object(Q.jsx)(it.b,{to:"/signUp",children:"Sign Up"})]}),Object(Q.jsxs)(Rn.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},form:t,onFinish:a,children:[Object(Q.jsx)(Rn.a.Item,{label:"Email",name:"email",rules:[{validator:function(e,t){return""===t||Xn(t)?Promise.resolve():Promise.reject(new Error("Please input a valid email!"))}},{required:!0,message:"Please input your email!"}],children:Object(Q.jsx)(Un.a,{})}),Object(Q.jsx)(Rn.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(Q.jsx)(Un.a.Password,{})}),Object(Q.jsx)(Rn.a.Item,{wrapperCol:{sm:{offset:8,span:16}},children:Object(Q.jsx)(Et.a,{type:"primary",htmlType:"submit",children:"Log In"})})]})]})})}),Object(Q.jsx)(ui,{lg:18,children:Object(Q.jsx)(hi,{src:ci,alt:"login-1"})})]})]})}var mi=n.p+"static/media/SmallLogo.afb353d7.svg",fi=n(347),gi=function(e){return ei.request({method:"POST",url:"/image/toggle",data:e})},ji=n(107),xi=[{type:"door",color:"#F97F51",subtype:["Single","Double","Automatic","Revolving","Open"]},{type:"knob",color:"#9AECDB",subtype:["vBar","Pull","Round","hBar"]},{type:"ramp",color:"#EAB543"},{type:"stairs",color:"#D6A2E8"}],yi=800,Oi=600,vi=function(e,t){return e.map((function(e){return function(e,t){var n=e.box.left*yi/t[0],i=e.box.top*Oi/t[1],a=e.box.width*yi/t[0],r=e.box.height*Oi/t[1],o=e.subtype?e.subtype:void 0;return{x:n,y:i,width:a,height:r,type:e.label,id:e.label_id,subtype:o}}(e,t)}))},wi=function(e,t){var n=e.x*t[0]/yi,i=e.y*t[1]/Oi,a=e.width*t[0]/yi,r=e.height*t[1]/Oi,o=e.subtype?e.subtype:null;return{box:{left:n,top:i,width:a,height:r},label_id:e.id,subtype:o,label:e.type}},_i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[3584,2560];return e.map((function(e){return wi(e,t)}))},ki=n(337),Si=C.d.div.withConfig({displayName:"PureValidation__LoadingEffectContainer",componentId:"sc-8rrgtf-0"})(["position:fixed;width:100%;height:100%;background-color:rgba(0,0,0,0.2);display:flex;align-items:center;justify-content:center;"]),Ci=Object(Q.jsx)(Si,{children:Object(Q.jsx)(ki.a,{size:"large"})});function Ii(){var e=y.a.useState(null),t=Object(nt.a)(e,2),n=t[0],i=t[1],a=y.a.useRef(null),r=y.a.useRef(!1),o=Object(Mn.g)(),c=Object(yt.b)(),s=Object(yt.c)((function(e){return e.map})).progress,l=Object(yt.c)((function(e){return e.user})).id,d=y.a.useCallback(Object(An.a)(qn.a.mark((function e(){var t,n;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ei.request({method:"GET",url:"/image/getRandomImage"});case 3:t=e.sent,n=t.data,a.current=n.data[0],i(n.data[0]),r.current=!0,e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),o.push("/login"),Ct(),c({type:qt,payload:{id:"",token:"",nickname:""}});case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),[c,o]);y.a.useEffect((function(){return r.current||d(),Object(An.a)(qn.a.mark((function e(){return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gi({labeled:!1,id:a.current._id});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),o.push("/login"),Ct(),c({type:qt,payload:{id:"",token:"",nickname:""}});case 10:case"end":return e.stop()}}),e,null,[[0,5]])})))}),[c,o,d]);var p=function(){var e=Object(An.a)(qn.a.mark((function e(){return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gi({labeled:!1,id:n._id});case 3:fi.a.confirm({title:"Warning Message",content:"Do you want to leave without confirmation?",cancelText:"Cancel",onCancel:function(){},onOk:function(){o.push("/home")}}),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),o.push("/login"),Ct(),c({type:qt,payload:{id:"",token:"",nickname:""}});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(An.a)(qn.a.mark((function e(t){var a;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p={id:n._id,labelArea:_i(t,n.image_size)},ei.request({method:"POST",url:"/image/addLabelArea",data:p});case 3:return c({type:Lt,payload:n._id}),e.next=6,gi({labeled:!1,id:n._id});case 6:return a=s+10===100?3:1,e.next=9,ii({id:l,number:a});case 9:r.current=!1,i(null),d(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),o.push("/login"),Ct(),c({type:qt,payload:{id:"",token:"",nickname:""}});case 19:case"end":return e.stop()}var p}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsx)("div",{children:n?Object(Q.jsx)(ji.a,{Logo:mi,typeConfig:xi,labels:vi(n.labeled_area,n.image_size),imgUrl:n.url,handleSubmit:u,handleBack:p}):Ci})}n(187);var Ni=n(144),Pi=n.n(Ni),Ei={zoomControl:!1,scrollwheel:!1,fullscreenControl:!1,panControl:!1,linksControl:!1,disableDefaultUI:!0,clickToGo:!1},zi=C.d.div.withConfig({displayName:"style__OriginalMapWrapper",componentId:"sc-ulkn06-0"})(["display:flex;position:absolute;left:0;right:0;"]),Mi=C.d.div.withConfig({displayName:"style__StreetViewWindow",componentId:"sc-ulkn06-1"})(["width:100%;height:100%;"]),Ti=C.d.div.withConfig({displayName:"style__OnlyStreetViewContainer",componentId:"sc-ulkn06-2"})(["position:relative;align-self:flex-end;width:100vw;height:100vh;"]),Li=C.d.div.withConfig({displayName:"style__StreetViewShade",componentId:"sc-ulkn06-3"})(["position:absolute;align-self:flex-end;left:0;top:0;width:100vw;height:100vh;z-index:100;border-color:rgba(0,0,0,0.8);"]),Fi=C.d.div.withConfig({displayName:"style__InstructionItem",componentId:"sc-ulkn06-4"})(["height:450px;padding:0px 60px;display:flex;justify-content:center;align-items:center;font-size:18px;font-weight:bolder;color:",";"," ",""],(function(e){return e.theme.primaryFont}),(function(e){return e.small&&"font-size: 14px;"}),(function(e){return e.down&&"padding-top: 40px;"})),qi=C.d.div.withConfig({displayName:"style__UploadProgressContainer",componentId:"sc-ulkn06-5"})(["position:absolute;top:0;left:0;right:0;display:flex;height:100vh;width:100vw;justify-content:center;align-items:center;z-index:9999;background-color:rgba(0,0,0,0.8);"]),Ai=n(346),Vi=n(339),Ri=(n(312),n(313),n(314),n(338));function Bi(e){var t=e.confirmModal,n=e.show,i=e.hideModal;return Object(Q.jsx)(fi.a,{title:"Instruction",visible:n,maskClosable:!1,keyboard:!1,closable:!1,onOk:t,onCancel:i,width:700,children:Object(Q.jsxs)(Ai.a,{pagination:{type:"progressbar"},navigation:!0,className:"mySwiper",children:[Object(Q.jsx)(Vi.a,{children:Object(Q.jsx)(Fi,{children:Object(Q.jsxs)("div",{children:[Object(Q.jsx)("p",{children:"In order to get the exact image of the current street view, we need you to share your current screen."}),Object(Q.jsx)("p",{children:"Don't worry, you don't need to do anything complicated. The only thing you need is to click the share entire screen button.  Please read through this tutorial carefully to get more info."})]})})}),Object(Q.jsx)(Vi.a,{children:Object(Q.jsx)(Fi,{children:Object(Q.jsx)(Fi,{small:!0,down:!0,children:Object(Q.jsxs)("div",{children:[Object(Q.jsx)("p",{children:"Select entire screen tab and follow the instruction"}),Object(Q.jsx)("img",{src:"https://cdn.jsdelivr.net/gh/FgSurewin/pictures/img20210804205803.png",alt:"secondSrc",width:"500"})]})})})}),Object(Q.jsx)(Vi.a,{children:Object(Q.jsx)(Fi,{small:!0,down:!0,children:Object(Q.jsxs)("div",{children:[Object(Q.jsx)("p",{children:"The final step is to click the share button"}),Object(Q.jsx)("img",{src:"https://cdn.jsdelivr.net/gh/FgSurewin/pictures/img20210804205850.png",alt:"thirdSrc",width:"500"})]})})})]})})}function Ui(){return-1!==(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?"Opera":-1!==navigator.userAgent.indexOf("Chrome")?"Chrome":-1!==navigator.userAgent.indexOf("Safari")?"Safari":-1!==navigator.userAgent.indexOf("Firefox")?"Firefox":-1!==navigator.userAgent.indexOf("MSIE")||!0===!!document.documentMode?"IE":"Unknown"}function Di(e){e.srcObject.getTracks().forEach((function(e){return e.stop()})),e.srcObject=null}function Wi(e){return Hi.apply(this,arguments)}function Hi(){return(Hi=Object(An.a)(qn.a.mark((function e(t){var n;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,navigator.mediaDevices.getDisplayMedia(t);case 4:n=e.sent,console.log("CAPTURE..."),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error: "+e.t0),e.abrupt("return",e.t0);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Gi(e,t){e.width=t.videoWidth,e.height=t.videoHeight;var n=.085*e.height;e.getContext("2d").drawImage(t,0,n,e.width,e.height-2.25*n,0,0,e.width,e.height);var i=e.toDataURL("image/webp",.92);return Di(t),{imgSrc:i,imgSize:[e.width,e.height]}}_.a.use([Ri.a,k.a]);var Yi=n(345),Ki=n(145);n(316);Ki.a.initializeApp({apiKey:"AIzaSyA_sllqO8fwpBGq68ihmeI41Ean4HUS8oc",authDomain:"crsp--streetview.firebaseapp.com",projectId:"crsp--streetview",storageBucket:"crsp--streetview.appspot.com",messagingSenderId:"964041398987",appId:"1:964041398987:web:99550310317b6b3323594e"});var Qi=Ki.a.storage(),Zi=C.d.div.withConfig({displayName:"PreviewModal__PreviewModalContainer",componentId:"sc-omavna-0"})(["display:flex;justify-content:center;flex-direction:column;align-items:center;"]),Xi=C.d.strong.withConfig({displayName:"PreviewModal__PreviewModalText",componentId:"sc-omavna-1"})(["margin-bottom:20px;"]);function Ji(e){var t=e.imgSrc,n=e.confirmModal,i=e.show,a=e.hideModal,r=e.top,o=void 0===r?0:r;return Object(Q.jsx)(fi.a,{title:"Preview",visible:i,maskClosable:!1,keyboard:!1,closable:!1,onOk:n,onCancel:a,width:700,okText:"Correct",cancelText:"No",style:{top:o},children:Object(Q.jsxs)(Zi,{children:[Object(Q.jsx)(Xi,{children:"Is this the street view you want?"}),t&&Object(Q.jsx)("img",{src:t,alt:"Preview",width:"500"})]})})}var $i=n(75),ea="FILL_STREET_VIEW_INFO",ta="FILL_STREET_VIEW_IMAGE",na="FILL_STREET_VIEW_MARKERS",ia="FILL_STREET_VIEW_IMAGE_LIST",aa="FILL_STREET_VIEW_LOCATION",ra="FILL_STREET_VIEW_WITHOUT_IMAGE_LIST",oa="FILL_STREET_VIEW_ADD_IMAGE",ca="FILL_STREET_VIEW_CLEAR_MARKERS",sa="FILL_STREET_VIEW_IMAGE_COMPLETED",la="FILL_STREET_VIEW_SELECT_IMAGE",da="ADD_IMAGE_COUNT",pa="CLEAR_IMAGE_COUNT",ua={pano:null,location:{lat:0,lng:0},pov:{heading:0,pitch:0,zoom:1},progress:0,panoMarkers:[],images:[],imgSize:[],imgSrc:"",selectImage:null};var ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ea:var n=t.payload,i=n.pano,a=n.location,r=n.pov;return Object(En.a)(Object(En.a)({},e),{},{pano:i,location:a,pov:r});case ta:var o=t.payload,c=o.imgSize,s=o.imgSrc;return Object(En.a)(Object(En.a)({},e),{},{imgSize:c,imgSrc:s});case na:var l=t.payload;return Object(En.a)(Object(En.a)({},e),{},{panoMarkers:[].concat(Object($i.a)(e.panoMarkers),Object($i.a)(l))});case ia:var d=t.payload,p=[],u=d.map((function(e){return e.panoMarkers}));return u.forEach((function(e){p=p.concat(e)})),Object(En.a)(Object(En.a)({},e),{},{images:d,panoMarkers:p});case ra:return Object(En.a)(Object(En.a)({},e),{},{images:[],panoMarkers:[],selectImage:null});case oa:var h=t.payload;return Object(En.a)(Object(En.a)({},e),{},{images:[].concat(Object($i.a)(e.images),[h]),progress:(e.progress+10)%100});case aa:return Object(En.a)(Object(En.a)({},e),{},{location:t.payload.location,pano:t.payload.pano_id});case ca:return Object(En.a)(Object(En.a)({},e),{},{panoMarkers:e.panoMarkers.filter((function(e){return e.image_id!==t.payload.image_id}))});case sa:var b=t.payload;return Object(En.a)(Object(En.a)({},e),{},{progress:(e.progress+10)%100,images:Object($i.a)(e.images).map((function(e){return e._id===b&&(e.completed=!0),e}))});case la:var m=t.payload;return Object(En.a)(Object(En.a)({},e),{},{selectImage:m});case da:var f=t.payload.image_id;return Object(En.a)(Object(En.a)({},e),{},{images:e.images.map((function(e){return e.image_id===f&&(e.count+=1),e}))});case pa:var g=t.payload.image_id;return Object(En.a)(Object(En.a)({},e),{},{images:e.images.map((function(e){return e.image_id===g&&(e.count=0),e}))});default:return e}},ba=Pi()((function(e){var t=e.api;return{googleMaps:{globalPath:"google.maps",url:"https://maps.googleapis.com/maps/api/js?key=".concat(t,"&v=weekly"),jsonp:!0}}}))((function(e){var t=e.mainStyle,n=e.googleMaps,i=e.streetViewOptions,a=y.a.useRef(),r=y.a.useState(null),o=Object(nt.a)(r,2),c=o[0],s=o[1],l=y.a.useState(null),d=Object(nt.a)(l,2),p=d[0],u=d[1],h=Object(yt.c)((function(e){return e.streetView})),b=h.pov,m=h.pano,f=Object(yt.b)(),g=Object(Mn.g)(),j=y.a.useRef(null),x=y.a.useRef(null),O=y.a.useRef(null),v=y.a.useState(!1),w=Object(nt.a)(v,2),_=w[0],k=w[1];function S(){return(S=Object(An.a)(qn.a.mark((function e(){var t;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!1),e.prev=1,!Ui()){e.next=12;break}return e.next=6,Wi();case 6:j.current.srcObject=e.sent,t=j.current.srcObject.getVideoTracks()[0],"monitor"===t.getSettings().displaySurface?setTimeout((function(){O.current=Gi(x.current,j.current),P(!0)}),500):(Di(j.current),Bn.b.error("Please share the entire screen!"),g.push("/streetView")),e.next=14;break;case 12:Bn.b.error("Please use Chrome to enable the capture function!"),g.push("/streetView");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),g.push("/streetView");case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}var C=y.a.useState(!1),I=Object(nt.a)(C,2),N=I[0],P=I[1];return y.a.useEffect((function(){var e;return null===c&&n&&s(new n.StreetViewPanorama(a.current,(e=i,Object.assign({},e,Ei)))),null!==c&&n&&k(!0),function(){c&&n.event.clearInstanceListeners(c)}}),[c,n,i]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(zi,{id:"StreetView",children:Object(Q.jsxs)(Ti,{style:t,children:[Object(Q.jsx)(Li,{}),Object(Q.jsx)(Mi,{id:"streetView",ref:a})]})}),Object(Q.jsx)("video",{ref:j,autoPlay:!0,style:{display:"none"}}),Object(Q.jsx)("canvas",{ref:x,id:"canvas",style:{display:"none"}}),Object(Q.jsx)(Bi,{show:_,confirmModal:function(){!function(){S.apply(this,arguments)}()},hideModal:function(){k(!1),g.push("/streetView")}}),Object(Q.jsx)(Ji,{show:N,confirmModal:function(){P(!1),O.current&&function(e){var t=Qi.ref("".concat(m,"/h_").concat(b.heading,"_p_").concat(b.pitch)).putString(e,"data_url");t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;u(t)}),(function(e){console.log(e)}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){O.current&&f({type:ta,payload:{imgSize:O.current.imgSize,imgSrc:e}}),Bn.b.success("Upload successfully"),g.push("/captureLabelPage")}))}))}(O.current.imgSrc)},hideModal:function(){P(!1),g.push("/streetView")},imgSrc:O.current&&O.current.imgSrc}),p&&Object(Q.jsx)(qi,{children:Object(Q.jsx)(Yi.a,{type:"circle",percent:p})})]})}));function ma(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:230,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{position:{lat:e,lng:t},pov:{heading:n,pitch:i}}}function fa(){var e=Object(yt.c)((function(e){return e.streetView})),t=e.location,n=e.pov,i=e.pano,a=Object(Mn.g)();return null===i?(a.push("/streetView"),Object(Q.jsx)("div",{children:"Wrong Page"})):Object(Q.jsx)("div",{children:Object(Q.jsx)(ba,{api:"AIzaSyCKbW-nyitNM5EKqp7UOQG9AxmrM-8Ym_o",streetViewOptions:ma(t.lat,t.lng,n.heading,n.pitch)})})}var ga=n(13),ja=n(350);function xa(e){return e>=0?1:-1}function ya(e,t,n){var i=parseInt(n.heading,10),a=parseInt(n.pitch,10),r=parseInt(n.zoom,10),o=Math.PI,c=Math.cos,s=Math.sin,l=Math.tan,d=Math.sqrt,p=Math.atan2,u=Math.asin,h=i*o/180,b=a*o/180,m=320/l(.5*(function(e){return e<=2?126.5-36.75*e:195.93/Math.pow(1.92,e)}(r)*o/180)),f=m*c(b)*s(h),g=m*c(b)*c(h),j=m*s(b),x=e-320,y=320-t,O=xa(c(b))*c(h),v=-xa(c(b))*s(h),w=f+x*O+y*(-s(b)*s(h)),_=g+x*v+y*(-s(b)*c(h)),k=j+0*x+y*c(b),S=d(w*w+_*_+k*k);return{heading:180*p(w,_)/o,pitch:180*u(k/S)/o,zoom:r}}var Oa=[{type:"door",color:"#F97F51",subtype:["Single","Double","Automatic","Revolving","Open"]},{type:"knob",color:"#9AECDB",subtype:["vBar","Pull","Round","hBar"]},{type:"ramp",color:"#EAB543"},{type:"stairs",color:"#D6A2E8"}],va=800,wa=600,_a=function(e,t){return e.map((function(e){return function(e,t){var n=e.box.left*va/t[0],i=e.box.top*wa/t[1],a=e.box.width*va/t[0],r=e.box.height*wa/t[1],o=e.subtype?e.subtype:void 0;return{x:n,y:i,width:a,height:r,type:e.label,id:e.label_id,subtype:o}}(e,t)}))},ka=function(e,t,n){var i=e.x*t[0]/va,a=e.y*t[1]/wa,r=e.width*t[0]/va,o=e.height*t[1]/wa,c=e.subtype?e.subtype:null;return{box:{left:i,top:a,width:r,height:o},label_id:e.id,subtype:c,label:e.type,labeledBy:n}},Sa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[3584,2560],n=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return ka(e,t,n)}))};function Ca(e){var t=e.image_id,n=e.pano,i=e.location,a=e.imgSrc,r=e.imgSize,o=e.pov,c=e.labeled_area,s=e.panoMarkers,l=e.nickname;return{image_id:t,pano:n,lat:i.lat,lon:i.lng,url:a,image_size:r,isLabeled:!1,count:0,labeled_area:c,init_labels:c,panoMarkers:s,pov:o,creator:l}}function Ia(e,t,n,i){return e.map((function(e){var a=function(e,t,n){var i=e.x,a=e.y;return{x:i*n[0]/t[0],y:a*n[1]/t[1]}}({x:e.x+e.width/2,y:e.y+e.height/2},[800,600],[640,640]),r=ya(a.x,a.y,t);return{id:Object(ja.a)(),pov:r,title:e.type,subtype:e.subtype?e.subtype:null,point:[0,0],image_id:n,label_id:e.id,nickname:i}}))}var Na=function(e){return ei.request({method:"GET",url:"/collectImage/getImagesByPano/".concat(e)})},Pa=function(e){return ei.request({method:"POST",url:"/collectImage/toggle",data:e})},Ea=function(e){return ei.request({method:"GET",url:"/collectImage/getOneById/".concat(e)})},za=function(e){return ei.request({method:"POST",url:"/collectImage/addMarkers",data:e})},Ma=function(e){return ei.request({method:"POST",url:"/collectImage/clearCount",data:e})};function Ta(){var e=Object(yt.c)((function(e){return e.streetView})),t=e.imgSrc,n=e.pov,i=e.pano,a=e.location,r=e.imgSize,o=e.progress,c=Object(yt.c)((function(e){return e.user})),s=c.nickname,l=c.id,d=Object(yt.b)(),p=Object(Mn.g)(),u=function(){var e=Object(An.a)(qn.a.mark((function e(c){var u,h,b,m,f;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Object(ja.a)(),h=Ia(c,n,u,s),b=Ca({image_id:u,pano:i,location:a,imgSize:r,pov:n,imgSrc:t,panoMarkers:h,labeled_area:Sa(c,r,s),nickname:s}),e.next=5,g=b,ei.request({method:"POST",url:"/collectImage/createImage",data:g});case 5:return m=e.sent,f=o+10===100?3:1,e.next=9,ti({id:l,number:f});case 9:return e.next=11,ai({name:s,number:c.length,type:"label"});case 11:d({type:na,payload:h}),d({type:oa,payload:m.data.data}),p.push("streetView");case 14:case"end":return e.stop()}var g}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsx)("div",{children:t&&Object(Q.jsx)(ji.a,{Logo:mi,typeConfig:Oa,labels:[],imgUrl:t,handleSubmit:u,handleBack:function(e){p.push("streetView")}})})}var La=n(96),Fa=n.n(La);var qa=function(e,t,n,i){var a=n===i,r=!0;return e.length!==t.length&&(r=!1),t.forEach((function(t){var n=!1;e.forEach((function(i){t.label_id===i.label_id&&(n=!0,!function(e,t){var n=!0;return Object.keys(e).forEach((function(i){e[i]!==t[i]&&(n=!1)})),n}(i.box,t.box)?r=!1:t.labeledBy=function(e,t){var n="FgSurewin";return t.forEach((function(t){t.label_id===e&&(n=t.labeledBy)})),n}(i.label_id,e))})),n||(r=!1)})),{samePerson:a,same:r,final_labels:t}};function Aa(e,t){var n=Fa.a.cloneDeep(e);return n.forEach((function(e){t.forEach((function(t){e.label_id===t.label_id&&(e.nickname=t.labeledBy)}))})),n}function Va(){var e=y.a.useState(null),t=Object(nt.a)(e,2),n=t[0],i=t[1],a=Object(Mn.i)(),r=Object(Mn.g)(),o=Object(yt.b)(),c=Object(yt.c)((function(e){return e.streetView})).progress,s=Object(yt.c)((function(e){return e.user})),l=s.id,d=s.nickname;y.a.useEffect((function(){function e(){return(e=Object(An.a)(qn.a.mark((function e(){var t,n;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ea(a.id);case 3:t=e.sent,n=t.data,i(n.data),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),r.push("/login"),Ct(),o({type:qt,payload:{id:"",token:"",nickname:""}});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),Object(An.a)(qn.a.mark((function e(){return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa({labeled:!1,id:a.id});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),r.push("/login"),Ct(),o({type:qt,payload:{id:"",token:"",nickname:""}});case 10:case"end":return e.stop()}}),e,null,[[0,5]])})))}),[a,o,r]);var p=function(){var e=Object(An.a)(qn.a.mark((function e(){return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{fi.a.confirm({title:"Warning Message",content:"Do you want to leave without confirmation?",cancelText:"Cancel",onCancel:function(){},onOk:function(){return Object(An.a)(qn.a.mark((function e(){return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa({labeled:!1,id:a.id});case 2:r.push("/streetView");case 3:case"end":return e.stop()}}),e)})))()}})}catch(t){r.push("/login"),Ct(),o({type:qt,payload:{id:"",token:"",nickname:""}})}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(An.a)(qn.a.mark((function e(t){var i,s,p,u,h,b,m,f,g,j;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=function(){var e=Object(An.a)(qn.a.mark((function e(){var i,c;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s={id:a.id,modifier:{name:d,labels:f}},ei.request({method:"POST",url:"/collectImage/addModifier",data:s});case 2:return i=Ia(t,n.pov,n.image_id,d),c=Aa(i,f),e.next=6,za({id:a.id,markers:c});case 6:o({type:ca,payload:{image_id:n.image_id}}),o({type:na,payload:c}),r.push("/streetView");case 9:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(An.a)(qn.a.mark((function e(){var t,i,a;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.filter((function(e){return e.labeledBy===n.creator})).length,i=Math.abs(t-n.init_labels.length),e.next=4,ai({name:n.creator,number:i,type:"revise"});case 4:(a=f.filter((function(e){return e.labeledBy!==n.creator}))).length>0&&a.forEach(function(){var e=Object(An.a)(qn.a.mark((function e(t){return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ai({name:t.labeledBy,number:1,type:"modify"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=5,Pa({labeled:!1,id:a.id});case 5:if(p=n.labeled_area,u=Sa(t,n.image_size,d),h=qa(p,u,n.creator,d),b=h.samePerson,m=h.same,f=h.final_labels,b&&m&&(Bn.b.warning("Reviewing your own images does not earn you points."),r.push("/streetView")),b&&!m&&(Bn.b.success("Modify successfully!"),i()),b||!m){e.next=20;break}return Bn.b.success("Review successfully!"),e.next=14,x={id:a.id},ei.request({method:"POST",url:"/collectImage/addCount",data:x});case 14:return g=c+10===100?3:1,e.next=17,ni({id:l,number:g});case 17:2===n.count&&s(),o({type:da,payload:{image_id:n.image_id}}),r.push("/streetView");case 20:if(b||m){e.next=29;break}return Bn.b.success("Modify successfully!"),e.next=24,Ma({id:a.id});case 24:return o({type:pa,payload:{image_id:n.image_id}}),j=c+10===100?3:1,e.next=28,ni({id:l,number:j});case 28:i();case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(0),r.push("/login"),Ct(),o({type:qt,payload:{id:"",token:"",nickname:""}});case 36:case"end":return e.stop()}var x}),e,null,[[0,31]])})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsx)("div",{children:n&&Object(Q.jsx)(ji.a,{Logo:mi,typeConfig:Oa,labels:_a(n.labeled_area,n.image_size),imgUrl:n.url,handleSubmit:u,handleBack:p})})}var Ra=n(348);function Ba(){var e=Object(Mn.g)();return Object(Q.jsx)(Ra.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(Q.jsx)(Et.a,{type:"primary",onClick:function(){e.push("/home")},children:"Back Home"})})}var Ua=function(e){var t=e.labelStyle;return Object(Q.jsx)("div",{className:"label",style:t})},Da={mapTypeControlOptions:{mapTypeIds:[]},zoomControl:!1,gestureHandling:"none",fullscreenControl:!1,panControl:!0},Wa=function(e){return Object.assign({},e,Da)};var Ha,Ga,Ya,Ka,Qa,Za,Xa,Ja,$a,er,tr={scrollwheel:!1,fullscreenControl:!1,panControl:!1,linksControl:!0,disableDefaultUI:!0,zoomControl:!0,clickToGo:!1},nr=function(e){return Object.assign({},e,tr)};function ir(e,t,n){return{pano:e,pov:n,position:{lat:t.lat(),lng:t.lng()}}}var ar=C.d.div(Ha||(Ha=Object(w.a)(["\n  display: flex;\n"]))),rr=C.d.div(Ga||(Ga=Object(w.a)(["\n  position: relative;\n  align-self: flex-end;\n  width: 200px;\n  height: 200px;\n"]))),or=C.d.div(Ya||(Ya=Object(w.a)(["\n  position: absolute;\n  z-index: 10;\n  width: 100%;\n  height: 100%;\n"]))),cr=C.d.div(Ka||(Ka=Object(w.a)(["\n  width: 100%;\n  height: 100%;\n"]))),sr=C.d.div(Qa||(Qa=Object(w.a)(["\n  position: relative;\n  align-self: flex-end;\n  /* width: 720px;\n  height: 480px; */\n  width: 640px;\n  height: 640px;\n  /* overflow: hidden; */\n"]))),lr=C.d.div(Za||(Za=Object(w.a)(["\n  width: 100%;\n  height: 100%;\n"]))),dr=(C.d.div(Xa||(Xa=Object(w.a)(["\n  z-index: 5;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n"]))),C.d.section(Ja||(Ja=Object(w.a)(["\n  background-color: ",";\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n"])),(function(e){return function(e){var t="";switch(e){case"door":t="#F97F51";break;case"knob":t="#9AECDB";break;case"ramp":t="#EAB543";break;case"stairs":t="#D6A2E8"}return t}(e.targetType)}))),pr=C.d.div($a||($a=Object(w.a)(["\n  position: relative;\n  top: -570%;\n  left: -300%;\n  background-color: white;\n  width: 150px;\n  height: 100px;\n  border-radius: 4px;\n  padding: 10px;\n"]))),ur=C.d.p(er||(er=Object(w.a)(["\n  /* font-weight: bolder; */\n  font-size: 14px;\n"]))),hr=n(14),br=n(18),mr=n(17);var fr=n(42);var gr=function(e){Object(br.a)(n,e);var t=Object(mr.a)(n);function n(){var e;Object(ga.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).overlay=null,e.el=null,e}return Object(hr.a)(n,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){try{var e=this.props,t=e.googleMaps,n=e.children,i=e.container,a=e.position,r=e.pano,o=e.anchor,c=e.size,s=e.title,l=e.id,d=e.clickFunc;this.el=this.el||function(){var e=document.createElement("div");return e.style.position="absolute",e.style.cursor="pointer",e}();var p=function(e){return function(t){Object(br.a)(i,t);var n=Object(mr.a)(i);function i(t){var a;return Object(ga.a)(this,i),(a=n.call(this,t)).onAdd=function(){if(a.first_){a.first_=!1,a.marker_.style.width=a.size_.width+"px",a.marker_.style.height=a.size_.height+"px",a.marker_.style.display=a.visible_?"block":"none",a.marker_.style.zIndex=a.zIndex_,a.id_&&(a.marker_.id=a.id_),a.className_&&(a.marker_.className=a.className_),a.title_&&(a.marker_.title=a.title_),a.icon_&&(a.marker_.style.backgroundImage="url("+a.icon_+")"),a.getPanes().overlayMouseTarget.appendChild(a.marker_),window.addEventListener("resize",a.draw.bind(Object(fr.a)(a))),a.povListener_=e.event.addListener(a.getMap(),"pov_changed",a.draw.bind(Object(fr.a)(a))),a.zoomListener_=e.event.addListener(a.getMap(),"zoom_changed",a.draw.bind(Object(fr.a)(a)));var t="click";window.PointerEvent?t="pointerdown":window.MSPointerEvent&&(t="MSPointerDown"),a.marker_.addEventListener(t,a.onClick.bind(Object(fr.a)(a)),!1),a.draw(),e.event.trigger(Object(fr.a)(a),"add",a.marker_)}},a.draw=function(){if(a.pano_){var e=a.povToPixel_(a.position_,a.pano_.getPov(),"undefined"!==typeof a.pano_.getZoom()?a.pano_.getZoom():1,a.container_);null!==e?(a.marker_.style.left=e.left-a.anchor_.x+"px",a.marker_.style.top=e.top-a.anchor_.y+"px"):(a.marker_.style.left=-(9999+a.size_.width)+"px",a.marker_.style.top="0"),a.marker_.children[0]&&a.marker_.children[0].children[0]&&(a.marker_.children[0].children[0].style.display=a.isClick_?"block":"none")}},a.onClick=function(t){a.clickable_&&e.event.trigger(Object(fr.a)(a),"click"),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),a.isClick_=!a.isClick_,a.marker_.children[0]&&a.marker_.children[0].children[0]&&(a.marker_.children[0].children[0].style.display=a.isClick_?"block":"none"),a.clickFunc_()},a.onRemove=function(){a.marker_&&(e.event.removeListener(a.povListener_),e.event.removeListener(a.zoomListener_),a.marker_.parentNode.removeChild(a.marker_),a.marker_=null,e.event.trigger(Object(fr.a)(a),"remove"))},a.setPano=function(t,n){if((!t||t instanceof e.StreetViewPanorama)&&(a.pano_&&a.onRemove(),a.setMap(t),a.pano_=t,a.container_=n,t)){var i=function(e){this.pollId_=window.setInterval(function(){this.getPanes()&&(window.clearInterval(this.pollId_),this.onAdd(),e&&e(this))}.bind(this),10)};if("undefined"!==typeof Promise)return new Promise(i.bind(Object(fr.a)(a)));i.call(Object(fr.a)(a))}},a.get3dFov=function(e){return e<=2?126.5-36.75*e:195.93/Math.pow(1.92,e)},a.povToPixel3d=function(e,t,n,i){var r=i.offsetWidth,o={left:r/2,top:i.offsetHeight/2},c=Math.PI/180,s=a.get3dFov(n)*c,l=t.heading*c,d=t.pitch*c,p=e.heading*c,u=e.pitch*c,h=r/2/Math.tan(s/2),b=Math.cos(u),m=Math.sin(u),f=Math.cos(p),g=h*b*Math.sin(p),j=h*b*f,x=h*m,y=Math.cos(d),O=Math.sin(d),v=Math.cos(l),w=Math.sin(l),_=h*y*w,k=h*y*v,S=h*O,C=_*g+k*j+S*x,I=_*_+k*k+S*S;if(Math.abs(C)<1e-6)return null;var N=I/C;if(N<0)return null;var P=N*g,E=N*j,z=N*x,M=-O*w,T=-O*v,L=y,F=v,q=-w,A=0,V=Math.sqrt(F*F+q*q+A*A),R=P*(F/=V)+E*(q/=V)+z*(A/=V),B=P*M+E*T+z*L;return o.left+=R,o.top-=B,o},a.povToPixel2d=function(e,t,n,i){var r=i.offsetWidth,o=i.offsetHeight,c={left:r/2,top:o/2},s=180/Math.pow(2,n),l=s*(o/r),d=a.wrapHeading(e.heading-t.heading),p=e.pitch-t.pitch;return c.left+=d/s*r,c.top-=p/l*o,c},a.wrapHeading=function(e){return(e=(e+180)%360)<0&&(e+=360),e-180},a.container_=t.container,a.povToPixel_=window.chrome?a.povToPixel3d:a.povToPixel2d,a.anchor_=t.anchor||new e.Point(16,16),a.className_=t.className||null,a.clickable_=t.clickable||!0,a.icon_=t.icon||null,a.id_=t.id||null,a.marker_=t.content,a.first_=!0,a.isClick_=!1,a.clickFunc_=t.clickFunc,a.pano_=null,a.pollId_=-1,a.position_=t.position||{heading:0,pitch:0},a.povListener_=null,a.zoomListener_=null,a.size_=t.size||new e.Size(32,32),a.title_=t.title||"",a.visible_="boolean"!==typeof t.visible||t.visible,a.zIndex_=t.zIndex||1,a.setPano(t.pano||null,t.container),a}return i}(e.OverlayView)}(t);return this.overlay=this.overlay||new p({content:this.el,container:i,position:a,pano:r,anchor:o,size:c,title:s,id:l,clickFunc:d}),t?v.a.createPortal(n,this.el):null}catch(u){console.log(u)}}}]),n}(x.Component),jr=Pi()((function(e){var t=e.api;return{googleMaps:{globalPath:"google.maps",url:"https://maps.googleapis.com/maps/api/js?key=".concat(t,"&libraries=&v=weekly&channel=2&libraries=places"),jsonp:!0}}}))((function(e){var t=e.mainStyle,n=e.googleMaps,i=e.mapOptions,a=e.streetViewOptions,r=e.events,o=e.markers,c=e.labelMode,s=e.labels,l=e.handleStreetViewClick,d=e.onPlaceChange,p=y.a.useRef(),u=y.a.useRef(),h=y.a.useRef(),b=y.a.useRef(),m=y.a.useState(null),f=Object(nt.a)(m,2),g=f[0],j=f[1],x=y.a.useState(null),O=Object(nt.a)(x,2),v=O[0],w=O[1],_=Object(yt.b)(),k=Object(yt.c)((function(e){return e.streetView})).panoMarkers;return y.a.useEffect((function(){return null===v&&null===g&&n&&(h.current=i,b.current=a,j(new n.Map(p.current,Wa(i))),w(new n.StreetViewPanorama(u.current,nr(a)))),null===v||null===g||Object(La.isEqual)(h.current,i)||Object(La.isEqual)(b.current,a)||(h.current=i,b.current=a,j(new n.Map(p.current,Wa(i))),w(new n.StreetViewPanorama(u.current,nr(a)))),null!==v&&null!==g&&null!==n&&Object(La.isEqual)(h.current,i)&&Object(La.isEqual)(b.current,a)&&(g.setStreetView(v),function(e,t,n){e.addListener("pano_changed",(function(){if(t.onPanoChanged){var i=ir(e.getPano(),e.getPosition(),e.getPov());t.onPanoChanged(i,n)}})),e.addListener("position_changed",(function(){if(t.onPositionChanged){var i=ir(e.getPano(),e.getPosition(),e.getPov()),a=e.getPosition(),r={lat:a.lat(),lng:a.lng()};n.panTo(r),t.onPositionChanged(i,n)}})),e.addListener("pov_changed",(function(){if(t.onPovChanged){var i=ir(e.getPano(),e.getPosition(),e.getPov());t.onPovChanged(i,n)}})),e.addListener("visible_changed",(function(){if(t.onVisibleChanged){var i=ir(e.getPano(),e.getPosition(),e.getPov());t.onVisibleChanged(i,n)}})),e.addListener("zoom_changed",(function(){if(t.onZoomChanged){var n=ir(e.getPano(),e.getPosition(),e.getPov());t.onZoomChanged(n,e)}}))}(v,r,g),function(e,t,n){t&&t.forEach((function(t){t.id;var i=t.markerOptions;new e.Marker(Object.assign({},{map:n},i))}))}(n,o,g)),function(){g&&n.event.clearInstanceListeners(g)}}),[g,v,n,i,a,r,o,d]),Object(Q.jsxs)(ar,{id:"originalMap",children:[Object(Q.jsxs)(sr,{className:"streetViewContainer",style:t,onClick:l,children:[s&&s.length>0&&s.map((function(e){var t=e.id,n=e.color,i=e.position,a=e.display;return Object(Q.jsx)(Ua,{labelStyle:{left:"".concat(i.x,"px"),top:"".concat(i.y,"px"),backgroundColor:n,display:a}},t)})),c&&Object(Q.jsx)("div",{className:"labelPanel"}),Object(Q.jsx)(lr,{id:"streetView",ref:u}),n&&v&&k.length>0&&k.map((function(e){return Object(Q.jsx)(gr,{id:e.id,googleMaps:n,pano:v,position:e.pov,title:e.title,anchor:new n.Point(e.point[0],e.point[1]),size:new n.Size(20,20),container:u.current,clickFunc:function(){_({type:la,payload:e.image_id})},children:Object(Q.jsx)(dr,{targetType:e.title,children:Object(Q.jsxs)(pr,{children:[Object(Q.jsxs)(ur,{children:[Object(Q.jsx)("strong",{children:"Type"}),": ",e.title]}),Object(Q.jsxs)(ur,{children:[Object(Q.jsx)("strong",{children:"Subtype"}),":"," ",e.subtype?e.subtype:"null"]}),Object(Q.jsxs)(ur,{children:[Object(Q.jsx)("strong",{children:"LabeledBy"}),": ",e.nickname]})]})})},e.id)}))]}),Object(Q.jsxs)(rr,{className:"mapContainer",children:[Object(Q.jsx)(or,{className:"shade"}),Object(Q.jsx)(cr,{id:"map",ref:p})]})]})}));function xr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:230,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return{position:{lat:e,lng:t},pov:{heading:n,pitch:i},zoom:a}}n.p;var yr,Or,vr,wr,_r,kr,Sr=C.d.section.withConfig({displayName:"style__ExplorationWrapper",componentId:"sc-1gvd71l-0"})(["background:#fbf8f5;height:100vh;display:flex;justify-content:center;align-items:center;"]),Cr=C.d.div.withConfig({displayName:"style__ExplorationContainer",componentId:"sc-1gvd71l-1"})(["margin-top:50px;width:1236px;display:flex;justify-content:space-between;"]),Ir=C.d.div.withConfig({displayName:"style__ExplorationPanel",componentId:"sc-1gvd71l-2"})(["display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end;transform:translateX(-30%);"]),Nr=C.d.div.withConfig({displayName:"style__ExplorationCover",componentId:"sc-1gvd71l-3"})([""]),Pr=C.d.div.withConfig({displayName:"style__ExplorationShowcase",componentId:"sc-1gvd71l-4"})(["margin-top:20px;width:421px;border:2px solid #3f3d56;box-sizing:border-box;border-radius:10px;display:flex;justify-content:space-between;align-items:center;padding:10px 20px;",""],(function(e){return e.select?Object(C.c)(yr||(yr=Object(w.a)(["\n          border: 4px solid #a45d5d;\n        "]))):Object(C.c)(Or||(Or=Object(w.a)(["\n          border: 2px solid #3f3d56;\n        "])))})),Er=C.d.div.withConfig({displayName:"style__ImageListContainer",componentId:"sc-1gvd71l-5"})([""," height:400px"],(function(e){return e.scroll&&Object(C.c)(vr||(vr=Object(w.a)(["\n      overflow-y: scroll;\n    "])))})),zr=C.d.div.withConfig({displayName:"style__ExplorationBtnGroup",componentId:"sc-1gvd71l-6"})(["display:flex;flex-direction:column;"]),Mr=C.d.span.withConfig({displayName:"style__ShowcaseText",componentId:"sc-1gvd71l-7"})(["",""],(function(e){return"true"===e.finished&&Object(C.c)(wr||(wr=Object(w.a)(["\n      text-decoration-line: line-through;\n    "])))})),Tr=Object(C.d)(Ht.a).withConfig({displayName:"style__ShowcaseButton",componentId:"sc-1gvd71l-8"})(["padding:6px 45px !important;font-size:14px !important;font-weight:bolder !important;",""],(function(e){return"true"===e.finished?Object(C.c)(_r||(_r=Object(w.a)(["\n          background: #d0b89c !important;\n          color: #3f3d56 !important;\n        "]))):Object(C.c)(kr||(kr=Object(w.a)(["\n          background: #abd1c6 !important;\n          color: #fff !important;\n        "])))})),Lr=Object(C.d)(Ht.a).withConfig({displayName:"style__NextButton",componentId:"sc-1gvd71l-9"})(["background-color:"," !important;color:white !important;padding:"," "," !important;font-weight:500 !important;font-size:"," !important;align-self:right;margin-top:10px !important;"],(function(e){return e.theme.primaryColor}),I(5),I(100),I(18)),Fr=Object(C.d)(Ht.a).withConfig({displayName:"style__CaptureButton",componentId:"sc-1gvd71l-10"})(["background-color:"," !important;color:white !important;padding:"," "," !important;font-weight:500 !important;font-size:"," !important;align-self:right;"],(function(e){return e.theme.primaryFont}),I(5),I(100),I(18)),qr=Object(C.d)(Ht.a).withConfig({displayName:"style__GetImageButton",componentId:"sc-1gvd71l-11"})(["background-color:"," !important;color:white !important;padding:"," "," !important;font-weight:500 !important;font-size:"," !important;align-self:right;"],(function(e){return e.theme.primaryFont}),I(5),I(100),I(18)),Ar=C.d.small.withConfig({displayName:"style__CaptureButtonTips",componentId:"sc-1gvd71l-12"})(["text-align:center;color:gray;"]),Vr=(C.d.div.withConfig({displayName:"style__ProgressMeter",componentId:"sc-1gvd71l-13"})(["background-color:#d8d8d8;border-radius:20px;position:relative;margin:15px 0;height:30px;width:400px;"]),C.d.div.withConfig({displayName:"style__ProgressBarInner",componentId:"sc-1gvd71l-14"})(["background:linear-gradient(to left,#f2709c,#ff9472);box-shadow:0 3px 3px -5px #f2709c,0 2px 5px #f2709c;border-radius:20px;color:#fff;display:flex;align-items:center;justify-content:center;height:100%;width:0;opacity:0;transition:1s ease 0.3s;opacity:1;width:",";"],(function(e){return"".concat(e.value,"%")})),function(e,t,n,i,a,r){return"https://maps.googleapis.com/maps/api/streetview?size=640x640&location=".concat(i,",").concat(a,"&fov=").concat(function(e){var t=90;switch(Math.round(e)){case 0:t=180;break;case 1:t=90;break;case 2:t=45;break;case 3:t=22.5;break;case 4:t=11.25}return t}(r),"&heading=").concat(t,"&pitch=").concat(n,"&key=").concat(e)}),Rr=function(e,t,n,i,a,r){var o=Vr(e,t,n,i,a,r);return $n.a.get(o,{responseType:"blob"})};function Br(e,t){return $n.a.get("https://maps.googleapis.com/maps/api/streetview/metadata?location=".concat(t.lat,",").concat(t.lng,"&key=").concat(e))}var Ur,Dr={pano:"",position:{lat:40.7541,lng:-73.99208},pov:{heading:34,pitch:10,zoom:1}},Wr=[{lat:40.775728,lng:-73.960596},{lat:40.742202,lng:-73.995146},{lat:40.765263,lng:-73.985419},{lat:40.757531,lng:-73.980607},{lat:40.758351,lng:-73.990351},{lat:40.768265,lng:-73.988505},{lat:40.755505,lng:-73.993538},{lat:40.746906,lng:-73.996392},{lat:40.740425,lng:-73.992758},{lat:40.759886,lng:-73.968732},{lat:40.765406,lng:-73.985731},{lat:40.757647,lng:-73.985788},{lat:40.759433,lng:-73.990934},{lat:40.757028,lng:-73.978274}],Hr=function(){var e=y.a.useState(!1),t=Object(nt.a)(e,1)[0],n=y.a.useRef(Dr),i=Object(Mn.g)(),a=Object(yt.c)((function(e){return e.streetView})),r=a.pano,o=a.panoMarkers,c=a.progress,s=a.images,l=a.location,d=a.pov,p=a.selectImage,u=Object(yt.c)((function(e){return e.user})).nickname,h=Object(yt.b)(),b=y.a.useRef(r),m=y.a.useRef(!1),f=y.a.useState(null),g=Object(nt.a)(f,2),j=g[0],x=g[1],O=y.a.useState(null),v=Object(nt.a)(O,2),w=v[0],_=v[1],k=y.a.useState(null),S=Object(nt.a)(k,2),C=S[0],I=S[1],N=y.a.useState(!1),P=Object(nt.a)(N,2),E=P[0],z=P[1],M=y.a.useCallback(Object(An.a)(qn.a.mark((function e(){var t,n,a,r,o;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Wr[Math.floor(10*Math.random()%Wr.length)],e.next=4,Br("AIzaSyCKbW-nyitNM5EKqp7UOQG9AxmrM-8Ym_o",t);case 4:return n=e.sent,"OK"===(a=n.data).status?h({type:aa,payload:a}):i.push("/home"),e.next=9,Na(a.pano_id);case 9:r=e.sent,0===(o=r.data).code?h({type:ia,payload:o.data}):h({type:ra}),b.current=!0,e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),i.push("/login"),Ct(),h({type:qt,payload:{id:"",token:"",nickname:""}});case 20:case"end":return e.stop()}}),e,null,[[0,15]])}))),[h,i]);y.a.useEffect((function(){b.current||M()}),[M]);var T=function(){var e=Object(An.a)(qn.a.mark((function e(t){var n,a;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Na(t.pano);case 3:n=e.sent,0===(a=n.data).code?h({type:ia,payload:a.data}):h({type:ra}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),i.push("/login"),Ct(),h({type:qt,payload:{id:"",token:"",nickname:""}});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function L(){var e=n.current.pano,t=n.current.position,i=n.current.pov;h({type:ea,payload:{pano:e,location:t,pov:i}})}var F,q,A=function(){var e=Object(An.a)(qn.a.mark((function e(){var t,i;return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rr("AIzaSyCKbW-nyitNM5EKqp7UOQG9AxmrM-8Ym_o",n.current.pov.heading,n.current.pov.pitch,n.current.position.lat,n.current.position.lng,n.current.pov.zoom);case 3:if(200!==(t=e.sent).status){e.next=13;break}return e.next=7,window.URL.createObjectURL(t.data);case 7:i=e.sent,I(t.data),_(i),z(!0),e.next=14;break;case 13:Bn.b.warning("The street view does not exist...");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Bn.b.error(new Error(e.t0).message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Sr,{children:[Object(Q.jsx)(Vt,{primary:"white",isStatic:!0,isFixed:!0}),r&&Object(Q.jsxs)(Cr,{children:[Object(Q.jsx)(jr,{api:"AIzaSyCKbW-nyitNM5EKqp7UOQG9AxmrM-8Ym_o",streetViewOptions:xr(l.lat,l.lng,d.heading,d.pitch),mapOptions:(F=l.lat,q=l.lng,{center:{lat:F,lng:q},zoom:18}),events:{onPositionChanged:function(e,t){n.current=e,m.current?T(e):m.current=!0},onPovChanged:function(e,t){n.current=e}},panoMarkers:o}),Object(Q.jsxs)(Ir,{children:[Object(Q.jsxs)(Nr,{children:[Object(Q.jsx)("div",{style:{width:"420px"},children:Object(Q.jsx)(Yi.a,{percent:c})}),Object(Q.jsx)(Er,{scroll:s.length>=4,children:s.length>0&&s.map((function(e,t){var n=e._id,a=e.creator,r=e.image_id,o=e.count;return Object(Q.jsxs)(Pr,{select:p===r,children:[Object(Q.jsxs)(Mr,{finished:3===o?"true":"false",children:["Image - ",t]}),Object(Q.jsx)(Tr,{finished:3===o?"true":"false",onClick:function(){i.push("/editCaptureLabelPage/".concat(n))},disabled:3===o,children:3===o?"validated":a===u?"modify":"review"})]},n+t)}))})]}),Object(Q.jsxs)(zr,{children:[Object(Q.jsx)(Ar,{children:"Please help us capture missing street view"}),t?Object(Q.jsx)(Fr,{onClick:function(){L(),i.push("/captureImage")},children:"CAPTURE"}):Object(Q.jsx)(qr,{onClick:A,children:"QUERY"}),Object(Q.jsx)(Lr,{onClick:Object(An.a)(qn.a.mark((function e(){return qn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(),m.current=!1;case 2:case"end":return e.stop()}}),e)}))),children:"NEXT"})]})]})]})]}),w&&Object(Q.jsx)(Ji,{show:E,confirmModal:function(){z(!1),L(),C&&function(e){var t=Qi.ref("".concat(n.current.pano,"/h_").concat(n.current.pov.heading,"_p_").concat(n.current.pov.pitch)).put(e);t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;x(t)}),(function(e){console.log(e)}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){h({type:ta,payload:{imgSize:[640,640],imgSrc:e}}),Bn.b.success("Upload successfully"),i.push("/captureLabelPage")}))}))}(C)},hideModal:function(){z(!1)},imgSrc:w,top:20}),j&&Object(Q.jsx)(qi,{children:Object(Q.jsx)(Yi.a,{type:"circle",percent:j})})]})},Gr=C.d.div(Ur||(Ur=Object(w.a)(["\n  overflow-x: hidden;\n"])));var Yr=function(){var e=Object(yt.b)();return y.a.useEffect((function(){var t=kt(Ot),n=kt(vt),i=kt(wt);e({type:qt,payload:{id:t,token:n,nickname:i}})}),[e]),Object(Q.jsx)(Gr,{children:Object(Q.jsxs)(Mn.d,{children:[Object(Q.jsx)(Ln,{component:Hr,path:"/streetView"}),Object(Q.jsx)(Ln,{component:Ii,path:"/pureValidation"}),Object(Q.jsx)(Ln,{component:fa,path:"/captureImage"}),Object(Q.jsx)(Ln,{component:Ta,path:"/captureLabelPage"}),Object(Q.jsx)(Ln,{component:Va,path:"/editCaptureLabelPage/:id"}),Object(Q.jsx)(Mn.b,{exact:!0,component:Pn,path:"/home"}),Object(Q.jsx)(Mn.b,{exact:!0,component:oi,path:"/signUp"}),Object(Q.jsx)(Mn.b,{exact:!0,component:bi,path:"/login"}),Object(Q.jsx)(Mn.b,{exact:!0,component:Ba,path:"/404"}),Object(Q.jsx)(Mn.a,{exact:!0,from:"/",to:"/home"}),Object(Q.jsx)(Mn.a,{to:"/404"})]})})},Kr=n(113),Qr={pano:null,tempPano:null,position:{lat:0,lng:0},images:[],progress:0};var Zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:var n=t.payload;return Object(En.a)(Object(En.a)({},e),{},{pano:n[0].pano,tempPano:n[0].pano,position:Object(En.a)(Object(En.a)({},e.position),{},{lat:n[0].lat,lng:n[0].lon,heading:n[0].yaw}),images:Object($i.a)(n).map((function(e){return Object.assign(e,{completed:!1})}))});case Ft:var i=t.payload;return Object(En.a)(Object(En.a)({},e),{},{tempPano:i.pano});case Lt:var a=t.payload;return Object(En.a)(Object(En.a)({},e),{},{progress:(e.progress+10)%100,images:Object($i.a)(e.images).map((function(e){return e._id===a&&(e.completed=!0),e}))});default:return e}},Xr={id:"",nickname:"",token:""};var Jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qt:var n=t.payload,i=n.id,a=n.token,r=n.nickname;return Object(En.a)(Object(En.a)({},e),{},{id:i,token:a,nickname:r});default:return e}},$r=Object(Kr.combineReducers)({map:Zr,user:Jr,streetView:ha}),eo=n(197),to=Object(Kr.createStore)($r,Object(eo.composeWithDevTools)());v.a.render(Object(Q.jsx)(yt.a,{store:to,children:Object(Q.jsx)(C.a,{theme:{primaryFont:"#3F3D56",primaryColor:"#D6974D"},children:Object(Q.jsxs)(it.a,{children:[Object(Q.jsx)(ge,{}),Object(Q.jsx)(Yr,{})]})})}),document.getElementById("root"))}},[[315,1,2]]]);
//# sourceMappingURL=main.dda5e29a.chunk.js.map